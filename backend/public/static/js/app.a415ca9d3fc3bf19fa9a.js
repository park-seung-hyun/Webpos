webpackJsonp([1],{CTO3:function(t,e){},"Hd+D":function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),s={data:function(){return{timestamp:"",user:""}},created:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),s=new Array("Sun","Mon","Tue","Wed","Ths","Fri","Sat")[t.getDay()];this.timestamp=e+"/"+n+"/"+o+" "+s},computed:{user:function(){return this.$store.state.user.name}},methods:{logOut:function(){var t=this;this.$http.post("/api/login/logout").then(function(e){t.$store.commit("setUser",null),t.$store.commit("setLogInState",!1),t.$router.push({name:"Login"})}).catch(function(t){console.error(t)})}}},r={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"parent"}},[n("p",{attrs:{id:"logo"}},[t._v("Web Pos")]),t._v(" "),n("p",{attrs:{id:"date"}},[t._v(t._s(t.timestamp))]),t._v(" "),this.$store.state.user?n("p",{attrs:{id:"user"}},[t._v(t._s(this.$store.state.user.name))]):t._e(),t._v(" "),this.$store.state.isLogIn?n("button",{attrs:{id:"logout"},on:{click:t.logOut}},[t._v("LogOut")]):t._e()])},staticRenderFns:[]};var i={name:"App",components:{MainHeader:n("VU/8")(s,r,!1,function(t){n("OUGX")},null,null).exports}},a={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("MainHeader"),this._v(" "),e("router-view")],1)},staticRenderFns:[]};var u=n("VU/8")(i,a,!1,function(t){n("iNhC")},null,null).exports,c=n("/ocq"),l={data:function(){return{id:"",password:""}},created:function(){var t=this;this.$store.state.isLogIn?this.$router.push({name:"Goods"}):this.$http.get("/api/login").then(function(e){var n=e.data.user;n&&(t.$store.commit("setUser",n),t.$store.commit("setLogInState",!0),t.$router.push({name:"Goods"}))})},methods:{onSubmit:function(){var t=this,e=this.id,n=this.password;this.$http.post("api/login",{id:e,password:n},{"Content-Type":"application-json"}).then(function(e){e.data.user?(t.$store.commit("setUser",e.data.user),t.$store.commit("setLogInState",!0),t.$router.push({name:"Goods"})):e.data.message&&alert(e.data.message)}).catch(function(t){console.error(t)})}}},m={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"login"}},[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("p",[t._v("사용자")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],attrs:{type:"text",name:"id"},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),t._v(" "),n("p",[t._v("비밀번호")]),t._v(" "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"password",name:"password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}}),t._v(" "),n("br"),n("br"),t._v(" "),n("button",[t._v("button")])])])},staticRenderFns:[]};var d=n("VU/8")(l,m,!1,function(t){n("ReVz")},null,null).exports,p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("ul",t._l(t.propsdata,function(e,o){return n("li",{staticClass:"shadow"},[t._v("\n      "+t._s(e)+"\n      "),n("button",{staticClass:"removeBtn",attrs:{type:"button"},on:{click:function(n){return t.removeItem(e,o)}}},[t._v("삭제")])])}),0)])},staticRenderFns:[]};var h={data:function(){return{Item:"",goods:null}},created:function(){var t=this;this.$store.state.isLogIn&&this.$http.get("/goods").then(function(e){var n=e.data.goods;n&&(t.goods=n)})},methods:{addItem:function(){if(""!==this.Item){var t=this.Item&&this.Item.trim();this.$emit("addItem",t),this.clearInput()}},clearInput:function(){this.Item=""},selectItem:function(t,e){console.log(e+"."+t.name),this.$emit("selectItem",t.name,e)}}},v={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"goodsInput"}},[n("ul",t._l(t.goods,function(e,o){return n("goods",{key:e.id,tag:"li",attrs:{title:e.name},on:{click:function(n){return t.selectItem(e,o+1)}}},[t._v("\n        "+t._s(e.id)+" . "+t._s(e.name)+" "),n("br")])}),1)])},staticRenderFns:[]};var f={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"clearAllItem"},[e("button",{staticClass:"clearAllBtn",on:{click:this.clearItem}},[this._v("Clear All")])])},staticRenderFns:[]};var g={data:function(){return{Items:[]}},created:function(){if(this.$store.state.isLogIn||this.$router.push({name:"Login"}),localStorage.length>0)for(var t=0;t<localStorage.length;t++)this.Items.push(localStorage.key(t))},methods:{selectItem:function(t,e){localStorage.setItem(e,t),this.Items.push(t)},removeItem:function(t,e){localStorage.removeItem(t),this.Items.splice(e,1)},clearAll:function(){localStorage.clear(),this.Items=[]}},components:{GoodsList:n("VU/8")({props:["propsdata"],methods:{removeItem:function(t,e){this.$emit("removeItem",t,e)}}},p,!1,function(t){n("Xm3r")},null,null).exports,GoodsInput:n("VU/8")(h,v,!1,function(t){n("Hd+D")},null,null).exports,GoodsFooter:n("VU/8")({methods:{clearItem:function(){this.$emit("clearAll")}}},f,!1,function(t){n("ks6k")},null,null).exports}},_={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"main"}},[e("GoodsInput",{attrs:{id:"goodsInput"},on:{selectItem:this.selectItem}}),this._v(" "),e("GoodsList",{attrs:{id:"goodsList",propsdata:this.Items},on:{removeItem:this.removeItem}}),this._v(" "),e("GoodsFooter",{attrs:{id:"goodsFooter"},on:{clearAll:this.clearAll}})],1)},staticRenderFns:[]};var I=n("VU/8")(g,_,!1,function(t){n("CTO3")},null,null).exports;o.a.use(c.a);var $=new c.a({mode:"history",routes:[{path:"/",name:"Login",component:d},{path:"/goods",name:"Goods",component:I}]}),w=n("mtWM"),L=n.n(w),b=n("NYxO");o.a.use(b.a);var S=new b.a.Store({state:{user:null,isLogIn:!1},getters:{user:function(t){return console.log("GETTER!!!"),t.user}},mutations:{setUser:function(t,e){t.user=e},setLogInState:function(t,e){t.isLogIn=e}}});o.a.prototype.$http=L.a,o.a.config.productionTip=!1,new o.a({el:"#app",router:$,store:S,components:{App:u},template:"<App/>"})},OUGX:function(t,e){},ReVz:function(t,e){},Xm3r:function(t,e){},iNhC:function(t,e){},ks6k:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.a415ca9d3fc3bf19fa9a.js.map